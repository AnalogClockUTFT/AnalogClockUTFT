 Есть 4 датчика газа MQ2, драйвер L298N два коллекторных двигателя с редукторами (на валах привода щелевые IR датчики FC03), реле, светодиод, пьезопищалка.                                                                                                                             По срабатыванию одного из четырех MQ2 должна выполняется следующая программа:

1) закончен опрос датчиков;

2) включаем светодиод ;

3) включаем пьезопищалку – сигнал тревоги;

4) двигатель А начинает вращение «вперед» до определенного количества оборотов вала привода, например  17 оборотов (импульсов с IR датчика  FC03 ) – двигатель стоп;

5) двигатель В начинает вращение «влево» до определенного количества оборотов вала привода, например  8 оборотов (импульсов с IR датчика  FC03 ) – двигатель стоп;

6) включаем реле на 10-20 секунд;

7)  выключаем реле;

8)  выключаем пьезопщалку;

9) выключаем светодиод;

10)  двигатель В начинает вращение «в право» до 8 оборотов вала привода (импульсов с IR   датчика  FC03 ) – двигатель стоп;

11) двигатель А начинает вращение «назад» до 17 оборотов вала привода (импульсов с IR датчика  FC03 ) – двигатель стоп;

12)  снова, переходим к опросу всех четырех датчиков газа MQ2.

Суть проекта заключается в создании макета простой, автоматической противопожарной системы.  Четыре датчика газа MQ2 опрашиваются до появлений высокого уровня на одном из них. Как только один сработал, прекращается опрос датчиков и программа переходит к выполнению одного из четырех вариантов цикла.

В зависимости от того какой из четырех датчиков газа MQ2 срабатывает - изменяется количество оборотов вала двигателя А  и исходное  направление вращения двигателя В – куда двигается в начале (влево или вправо). Если с начала влево то возвращаясь в исходное состояние двигается в право  . Количество оборотов вала двигателя В не изменяется и постоянно = 8, количество оборотов вала двигателя А может быть или 17 или 34. 

Сработал датчик, включается светодиод, включается пьезопищалка. Каретка с  противопожарным раструбом  доставляется по адресу сработавшего датчика, на 10-20 секунд включается реле насоса . Происходит «тушение пожара». Выключается светодиод , выключается пьезопищалка. Каретка с раструбом возвращается в исходное положение.

По отдельности скетчи каждого из компонентов проверял - работают. Собрать же все в целостную программу не могу. Датчики газа подключал к аналоговым входам, порог устанавливал 200. Работу счетчика щелевых датчиков FC03 проверял при поданном питании 3.3В ( при 5 В наблюдался дребезг и т.д.) . Сигнал подавал на 2 и 3 цифровые ввода ардуины, считал при помощи buttonPushCounter. 

Теперь о главном. Желательно написать программу  в течении 2 недель… Или оказать помощь в ее написании за заранее оговоренную цену.

Большая просьба не задирать цену. В силу сложившихся обстоятельств (живу на границе военного конфликта), в средствах ограничен. Иногда бывают проблемы с интернетом и связью… 

Если Вы можете чем-то помочь – напишите, обсудим.

С уважением Nikita.
